original image:
1 1 8 8 7 8 7 7 8 7 8 8 7 8 7 8 
7 1 1 7 7 8 6 8 7 8 8 8 8 7 7 7 
8 8 1 1 1 7 7 7 7 8 8 6 7 8 7 8 
9 7 8 6 1 1 6 8 8 7 9 7 7 7 7 7 
8 8 7 7 8 1 1 7 8 8 7 8 7 8 8 8 
8 8 8 7 7 8 1 1 1 1 8 7 7 7 7 7 
6 7 9 9 8 7 7 7 7 1 7 8 8 6 6 8 
7 8 7 8 6 6 8 8 8 1 8 9 9 7 7 7 
8 9 8 7 7 7 1 1 1 1 7 8 8 8 7 8 
8 8 9 6 8 1 1 8 7 8 8 7 7 9 6 7 
9 7 8 7 7 8 1 1 1 1 8 8 7 9 8 7 
7 8 7 8 8 8 6 8 7 1 7 8 8 8 9 6 
7 8 9 6 9 7 7 7 7 1 1 8 7 7 7 8 
7 7 9 7 7 8 8 6 6 7 1 8 1 1 1 7 
8 7 8 8 8 8 8 7 8 8 1 1 1 8 1 1 
8 9 7 9 9 7 9 7 7 8 7 8 8 9 7 1 

original result:
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 1 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 

2*2 sampled:
1 1 7 6 7 8 7 7 
7 1 1 6 7 6 7 7 
8 7 1 1 1 7 7 7 
6 7 6 7 1 7 6 6 
8 6 1 1 1 7 7 6 
7 7 7 1 1 7 7 6 
7 6 7 6 1 1 1 1 
7 7 7 7 7 1 1 1 

2*2 sampled result:
1 3 3 3 3 3 3 3 
1 3 3 3 3 3 3 3 
1 1 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 
1 1 1 1 3 3 3 3 
1 1 1 1 3 3 3 3 
1 1 1 1 3 3 3 3 
1 1 1 1 1 1 3 3 

2*2 recover to original size:
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 

2*2 edge_map:
1 1 0 0 0 0 0 0 
1 1 0 0 0 0 0 0 
0 1 1 1 0 0 0 0 
0 0 1 1 1 0 0 0 
0 0 0 1 1 0 0 0 
0 0 0 1 1 0 0 0 
0 0 0 1 1 1 0 0 
0 0 0 0 1 1 1 0 

2*2 seeds:
0 0 0 0 3 0 0 0 0 0 0 0 0 0 
0 0 0 0 3 0 0 0 0 0 0 0 0 0 
0 0 0 0 3 0 0 0 0 0 0 0 0 0 
0 0 0 0 3 3 3 3 0 0 0 0 0 0 
1 1 0 0 0 0 0 0 3 0 0 0 0 0 
0 1 0 0 0 0 0 0 3 3 0 0 0 0 
0 0 1 1 0 0 0 0 0 0 3 0 0 0 
0 0 0 1 0 0 0 0 0 0 3 0 0 0 
0 0 0 0 1 1 0 0 0 0 3 0 0 0 
0 0 0 0 0 1 0 0 0 0 3 0 0 0 
0 0 0 0 0 1 0 0 0 0 3 0 0 0 
0 0 0 0 0 1 0 0 0 0 3 3 0 0 
0 0 0 0 0 1 0 0 0 0 0 0 3 0 
0 0 0 0 0 1 0 0 0 0 0 0 3 3 
0 0 0 0 0 0 1 1 0 0 0 0 0 0 
0 0 0 0 0 0 0 1 0 0 0 0 0 0 


2*2 result:
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 1 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 1 1 3 3 

4*4 sampled:
1 1 6 7 
6 1 1 6 
6 1 1 6 
6 6 1 1 

4*4 sampled result:
1 3 3 3 
1 3 3 3 
1 1 3 3 
1 1 1 3 

4*4 recover to original size:
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 3 3 3 3 

4*4 edge_map:
1 1 0 0 
1 1 0 0 
0 1 1 0 
0 0 1 1 

4*4 seeds:
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 3 3 3 0 0 0 0 
1 1 1 1 0 0 0 0 0 0 0 0 3 0 0 0 
0 0 0 1 0 0 0 0 0 0 0 0 3 0 0 0 
0 0 0 1 0 0 0 0 0 0 0 0 3 0 0 0 
0 0 0 1 0 0 0 0 0 0 0 0 3 3 3 3 
0 0 0 0 1 1 1 1 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 


4*4 result:
1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 1 1 3 3 3 1 3 3 
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 

8*8 sampled:
1 1 
1 1 


8*8 sampled result:
3 3 
1 3 

8*8 recover to original size:
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 
1 1 1 1 1 1 1 1 3 3 3 3 3 3 3 3 

8*8 edge_map:
1 0 
1 1 

8*8 seeds:
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 3 3 3 3 3 3 3 3 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 


8*8 result:
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 
